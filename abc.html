<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINGPLUS å¹¼å…’è‹±æ–‡</title>
    <style>
        body { font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif; background-color: #E3F2FD; text-align: center; padding: 20px; margin: 0; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        h1 { color: #1565C0; font-size: 2.5rem; margin-bottom: 5px; }
        .subtitle { color: #42A5F5; font-weight: bold; margin-bottom: 20px; font-size: 1.2rem; }
        
        /* å›é¦–é æŒ‰éˆ• */
        .home-btn-large {
            position: fixed; top: 20px; left: 20px; width: 85px; height: 85px; background-color: #9C27B0;
            color: white; text-decoration: none; border-radius: 25px; display: flex; flex-direction: column;
            align-items: center; justify-content: center; box-shadow: 0 8px #7B1FA2; transition: 0.2s; z-index: 9999; font-weight: bold;
        }
        .home-btn-large span { font-size: 2.2rem; margin-bottom: -5px; }
        .home-text { font-size: 1rem; }
        .home-btn-large:active { transform: translateY(4px); box-shadow: 0 4px #7B1FA2; }

        /* --- æ¨¡å¼åˆ‡æ›æ¨™ç±¤ (Tab) --- */
        .mode-switch { display: flex; justify-content: center; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        .mode-btn { 
            padding: 12px 25px; font-size: 1.3rem; font-weight: bold; border-radius: 30px; border: none; 
            background: #E0E0E0; color: #757575; cursor: pointer; transition: 0.3s; box-shadow: 0 4px #BDBDBD;
        }
        .mode-btn.active { background: #FF9800; color: white; box-shadow: 0 6px #F57C00; transform: scale(1.05); }
        .mode-btn:active { transform: translateY(3px); box-shadow: 0 2px #BDBDBD; }
        .mode-btn.active:active { box-shadow: 0 2px #F57C00; }

        /* --- é¡¯ç¤ºå­—å¡å€ --- */
        .flashcard {
            background: #FFF9C4; border-radius: 30px; padding: 20px; margin: 0 auto 20px auto;
            max-width: 500px; box-shadow: 0 8px 15px rgba(0,0,0,0.1); border: 5px dashed #FFEB3B;
            transition: 0.3s; height: 280px; display: flex; flex-direction: column; justify-content: center; align-items: center; 
        }
        #fc-emoji { font-size: 7.5rem; line-height: 1; animation: bounceIn 0.5s; font-weight: bold; color: #1565C0; margin: 0; }
        #fc-word { font-size: 3rem; color: #E65100; font-weight: bold; margin-top: 15px; margin-bottom: 5px; }
        #fc-sentence { font-size: 1.5rem; color: #555; margin-bottom: 10px; }
        @keyframes bounceIn { 0% { transform: scale(0.5); opacity: 0; } 80% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }

        /* å­—æ¯éµç›¤å€ */
        .grid { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; padding: 10px; }
        .alpha-btn { 
            width: 80px; height: 80px; font-size: 2rem; cursor: pointer; border: none; border-radius: 20px; 
            background: #BBDEFB; color: #0D47A1; box-shadow: 0 6px #90CAF9; transition: 0.2s; font-weight: bold;
        }
        .alpha-btn:active { transform: translateY(4px); box-shadow: 0 2px #90CAF9; }

        /* --- è€ƒè©¦æ¨¡å¼å°ˆç”¨æ¨£å¼ --- */
        #exam-section { display: none; background: #E8F5E9; border-radius: 30px; padding: 40px; border: 5px solid #4CAF50; margin-top: 10px; min-height: 250px; position: relative; }
        
        /* è¨˜åˆ†æ¿ */
        .score-board { position: absolute; top: 20px; right: 30px; font-size: 1.5rem; font-weight: bold; color: #2E7D32; background: #C8E6C9; padding: 8px 20px; border-radius: 20px; }
        
        #exam-emoji { font-size: 7rem; margin-bottom: 20px; }
        .exam-options { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        .exam-btn { padding: 15px 30px; font-size: 1.8rem; font-weight: bold; border-radius: 20px; border: none; background: #4CAF50; color: white; cursor: pointer; box-shadow: 0 6px #388E3C; transition: 0.2s; }
        .exam-btn:active { transform: translateY(3px); box-shadow: 0 3px #388E3C; }
        
        /* å‹•ä½œæŒ‰éˆ•æ¨£å¼ */
        .action-btn { padding: 15px 30px; font-size: 1.5rem; font-weight: bold; border-radius: 30px; border: none; cursor: pointer; margin: 10px; transition: 0.2s; }
        .btn-continue { background: #FF9800; color: white; box-shadow: 0 6px #F57C00; }
        .btn-continue:active { transform: translateY(3px); box-shadow: 0 3px #F57C00; }
        .btn-stop { background: #9E9E9E; color: white; box-shadow: 0 6px #616161; }
        .btn-stop:active { transform: translateY(3px); box-shadow: 0 3px #616161; }
.replay-btn { 
            padding: 10px 20px; 
            font-size: 1.2rem; 
            cursor: pointer; 
            border-radius: 20px; 
            background: #2196F3; /* æ˜äº®çš„è—è‰² */
            color: white; 
            border: none; 
            box-shadow: 0 4px #1976D2; 
            font-weight: bold; 
            margin: 5px; 
        }
        .replay-btn:active { 
            transform: translateY(2px); 
            box-shadow: 0 1px #1976D2; 
        }
/* ç•¶ iPad ç›´è‘—æ‹¿æ™‚ */
@media (orientation: portrait) {
    .container {
        flex-direction: column; /* è®“å…§å®¹ä¸Šä¸‹æ’åˆ— */
    }
    .main-char {
        font-size: 15rem; /* å­—æ¯å¯ä»¥æ”¾å¾—è·Ÿè‡‰ä¸€æ¨£å¤§ */
        margin-top: 20vh;
    }
}
    </style>
</head>
<body>

<a href="index.html" class="home-btn-large">
    <span>ğŸ </span><div class="home-text">é¦–é </div>
</a>

<div class="container">
    <h1>ç°¡å–®å¹¼å…’è‹±æ–‡è¶£å‘³å­¸ç¿’</h1>
    <p class="subtitle">LINGPLUS äº’å‹•è‹±èªæ¨‚åœ’</p>

    <div class="mode-switch">
        <button class="mode-btn active" id="btn-alpha" onclick="switchMode('alpha')">ğŸ”¤ å­—æ¯èªè®€</button>
        <button class="mode-btn" id="btn-vocab" onclick="switchMode('vocab')">ğŸ å–®å­—ç›²ç›’</button>
        <button class="mode-btn" id="btn-exam" onclick="switchMode('exam')">ğŸ† æ¸¬é©—éŠæˆ²</button>
<button id="replay-btn" class="replay-btn" onclick="replayAudio()" style="display: none;">ğŸ”Š å†è½ä¸€æ¬¡</button>
    </div>

    <div class="flashcard" id="flashcard-area">
        <div id="fc-emoji">ğŸ”¤</div>
        <div id="fc-word">å­—æ¯æ¨¡å¼</div>
        <div id="fc-sentence">é»æ“Šä¸‹æ–¹å­—æ¯è½ç™¼éŸ³ï¼</div>
    </div>

    <div id="exam-section">
        
        <div id="exam-intro">
            <div style="font-size: 6rem; margin-bottom: 10px;">ğŸ†</div>
            <h2 style="color: #2E7D32; font-size: 2.2rem; margin-top: 0;">æº–å‚™å¥½æŒ‘æˆ°äº†å—ï¼Ÿ</h2>
            <p style="font-size: 1.3rem; color: #555;">è½è²éŸ³ã€çœ‹åœ–æ¡ˆï¼Œé¸å‡ºæ­£ç¢ºçš„è‹±æ–‡å–®å­—ï¼</p>
            <button class="action-btn btn-continue" onclick="startExamGame()">ğŸš€ é–‹å§‹æ¸¬é©—</button>
        </div>

        <div id="exam-play" style="display: none;">
            <div class="score-board">é€£å°: <span id="score-text">0</span> é¡Œ</div>
            <h2 style="color: #2E7D32; font-size: 2rem; margin-top: 0;">è½è²éŸ³ã€çœ‹åœ–é¸å–®å­—ï¼</h2>
            <div id="exam-emoji">â“</div>
            <div class="exam-options" id="exam-options">
                </div>
        </div>

        <div id="exam-break" style="display: none;">
            <div style="font-size: 6rem; margin-bottom: 10px;">ğŸŒŸ</div>
            <h2 style="color: #E65100; font-size: 2.2rem; margin-top: 0;">å¤ªå²å®³äº†ï¼é€£çºŒéé—œï¼</h2>
            <p style="font-size: 1.3rem; color: #555;">å¯¶è²å¥½æ£’ï¼éœ€è¦ä¼‘æ¯ä¸€ä¸‹å–å£æ°´å—ï¼Ÿé‚„æ˜¯è¦ç¹¼çºŒæŒ‘æˆ°ï¼Ÿ</p>
            <div style="margin-top: 20px;">
                <button class="action-btn btn-stop" onclick="switchMode('alpha')">ä¼‘æ¯ä¸€ä¸‹</button>
                <button class="action-btn btn-continue" onclick="continueExam()">ç¹¼çºŒæŒ‘æˆ°</button>
            </div>
        </div>

    </div>

    <div class="grid" id="alphabet-grid"></div>

</div>

<script>
   // ğŸŒŸ LINGPLUS å¹¼å…’æ——è‰¦ç‰ˆå–®å­—å­—å…¸åº« (A-Z)
    const dictionary = {
        'A': [
            {w: "Apple", s: "A red apple.", i: "ğŸ"}, {w: "Ant", s: "A tiny ant.", i: "ğŸœ"},
            {w: "Airplane", s: "Fly in an airplane.", i: "âœˆï¸"}, {w: "Alien", s: "A funny alien.", i: "ğŸ‘½"}, 
            {w: "Angel", s: "A beautiful angel.", i: "ğŸ‘¼"}, {w: "Acorn", s: "A brown acorn.", i: "ğŸŒ°"}, 
            {w: "Arrow", s: "A sharp arrow.", i: "ğŸ¹"}, {w: "Arm", s: "This is my arm.", i: "ğŸ’ª"}, 
            {w: "Axe", s: "Chop with an axe.", i: "ğŸª“"}
        ],
        'B': [
            {w: "Bear", s: "The bear is sleeping.", i: "ğŸ»"}, {w: "Banana", s: "Monkeys love bananas.", i: "ğŸŒ"},
            {w: "Bird", s: "The bird can fly.", i: "ğŸ¦"}, {w: "Bus", s: "The yellow bus.", i: "ğŸšŒ"},
            {w: "Ball", s: "Kick the ball.", i: "âš½"}, {w: "Book", s: "Read a book.", i: "ğŸ“–"},
            {w: "Bed", s: "Go to bed.", i: "ğŸ›ï¸"}, {w: "Bee", s: "A busy bee.", i: "ğŸ"},
            {w: "Boat", s: "A boat on the water.", i: "â›µ"}, {w: "Boy", s: "He is a boy.", i: "ğŸ‘¦"},
            {w: "Balloon", s: "A red balloon.", i: "ğŸˆ"}, {w: "Butterfly", s: "A pretty butterfly.", i: "ğŸ¦‹"},
            {w: "Bread", s: "I eat bread.", i: "ğŸ"}
        ],
        'C': [
            {w: "Cat", s: "The cat is cute.", i: "ğŸ±"}, {w: "Car", s: "A fast car.", i: "ğŸš—"},
            {w: "Cake", s: "Happy birthday cake.", i: "ğŸ°"}, {w: "Cow", s: "The cow says moo.", i: "ğŸ®"},
            {w: "Cup", s: "A cup of water.", i: "â˜•"}, {w: "Cloud", s: "A white cloud.", i: "â˜ï¸"},
            {w: "Clock", s: "Look at the clock.", i: "â°"}, {w: "Crab", s: "A red crab.", i: "ğŸ¦€"},
            {w: "Carrot", s: "Rabbits eat carrots.", i: "ğŸ¥•"}, {w: "Coat", s: "Put on your coat.", i: "ğŸ§¥"},
            {w: "Camera", s: "Take a picture.", i: "ğŸ“·"}, {w: "Chair", s: "Sit on the chair.", i: "ğŸª‘"}
        ],
        'D': [
            {w: "Dog", s: "The dog is barking.", i: "ğŸ¶"}, {w: "Duck", s: "The duck says quack.", i: "ğŸ¦†"},
            {w: "Door", s: "Open the door.", i: "ğŸšª"}, {w: "Dinosaur", s: "A big dinosaur.", i: "ğŸ¦–"},
            {w: "Doll", s: "A pretty doll.", i: "ğŸ"}, {w: "Drum", s: "Play the drum.", i: "ğŸ¥"},
            {w: "Dress", s: "A beautiful dress.", i: "ğŸ‘—"}, {w: "Dolphin", s: "The dolphin swims.", i: "ğŸ¬"},
            {w: "Doctor", s: "The doctor helps me.", i: "ğŸ‘¨â€âš•ï¸"}, {w: "Donut", s: "A sweet donut.", i: "ğŸ©"}
        ],
        'E': [
            {w: "Elephant", s: "A very big elephant.", i: "ğŸ˜"}, {w: "Egg", s: "I eat an egg.", i: "ğŸ¥š"},
            {w: "Eye", s: "I see with my eyes.", i: "ğŸ‘ï¸"}, {w: "Ear", s: "I hear with my ears.", i: "ğŸ‘‚"},
            {w: "Earth", s: "We live on Earth.", i: "ğŸŒ"}, {w: "Eagle", s: "A strong eagle.", i: "ğŸ¦…"},
            {w: "Envelope", s: "Open the envelope.", i: "âœ‰ï¸"}, {w: "Elf", s: "A little elf.", i: "ğŸ§"},
            {w: "Eight", s: "The number eight.", i: "8ï¸âƒ£"}, {w: "Earthworm", s: "A long earthworm.", i: "ğŸª±"}
        ],
        'F': [
            {w: "Fish", s: "The fish is swimming.", i: "ğŸŸ"}, {w: "Flower", s: "A pretty flower.", i: "ğŸŒ»"},
            {w: "Frog", s: "The frog jumps.", i: "ğŸ¸"}, {w: "Fire", s: "The fire is hot.", i: "ğŸ”¥"},
            {w: "Fox", s: "A clever fox.", i: "ğŸ¦Š"}, {w: "Foot", s: "This is my foot.", i: "ğŸ¦¶"},
            {w: "Flag", s: "Wave the flag.", i: "ğŸš©"}, {w: "Farmer", s: "A busy farmer.", i: "ğŸ§‘â€ğŸŒ¾"},
            {w: "Fairy", s: "A flying fairy.", i: "ğŸ§š"}, {w: "Fork", s: "Eat with a fork.", i: "ğŸ´"}
        ],
        'G': [
            {w: "Goat", s: "The goat is eating.", i: "ğŸ"}, {w: "Grape", s: "Sweet grapes.", i: "ğŸ‡"},
            {w: "Gift", s: "A gift for you.", i: "ğŸ"}, {w: "Girl", s: "She is a girl.", i: "ğŸ‘§"},
            {w: "Ghost", s: "A spooky ghost.", i: "ğŸ‘»"}, {w: "Guitar", s: "Play the guitar.", i: "ğŸ¸"},
            {w: "Gorilla", s: "A strong gorilla.", i: "ğŸ¦"}, {w: "Glasses", s: "Wear your glasses.", i: "ğŸ‘“"},
            {w: "Giraffe", s: "A tall giraffe.", i: "ğŸ¦’"}, {w: "Green", s: "A green apple.", i: "ğŸ"}
        ],
        'H': [
            {w: "Horse", s: "I ride a horse.", i: "ğŸ´"}, {w: "House", s: "This is my house.", i: "ğŸ "},
            {w: "Hat", s: "Put on your hat.", i: "ğŸ©"}, {w: "Hand", s: "Wash your hands.", i: "âœ‹"},
            {w: "Heart", s: "A red heart.", i: "â¤ï¸"}, {w: "Helicopter", s: "A fast helicopter.", i: "ğŸš"},
            {w: "Hippo", s: "A big hippo.", i: "ğŸ¦›"}, {w: "Hamburger", s: "A yummy hamburger.", i: "ğŸ”"},
            {w: "Honey", s: "Sweet honey.", i: "ğŸ¯"}, {w: "Hammer", s: "Pound with a hammer.", i: "ğŸ”¨"}
        ],
        'I': [
            {w: "Ice cream", s: "I love ice cream.", i: "ğŸ¦"}, {w: "Igloo", s: "A cold igloo.", i: "ğŸ§Š"},
            {w: "Island", s: "A sunny island.", i: "ğŸï¸"}, {w: "Insect", s: "A little insect.", i: "ğŸ›"},
            {w: "Idea", s: "I have a good idea.", i: "ğŸ’¡"}, {w: "Ink", s: "Black ink.", i: "âœ’ï¸"},
            {w: "Ice", s: "Cold ice.", i: "ğŸ§Š"}, {w: "Iguana", s: "A green iguana.", i: "ğŸ¦"}
        ],
        'J': [
            {w: "Juice", s: "Drink some juice.", i: "ğŸ§ƒ"}, {w: "Jacket", s: "Wear a jacket.", i: "ğŸ§¥"},
            {w: "Jeans", s: "Blue jeans.", i: "ğŸ‘–"}, {w: "Jeep", s: "Drive a jeep.", i: "ğŸš™"},
            {w: "Jelly", s: "Sweet jelly.", i: "ğŸ®"}, {w: "Judge", s: "A wise judge.", i: "ğŸ‘¨â€âš–ï¸"},
            {w: "Jump", s: "Jump up high.", i: "ğŸ¤¾"}
        ],
        'K': [
            {w: "Kangaroo", s: "The kangaroo jumps.", i: "ğŸ¦˜"}, {w: "Key", s: "Use the key.", i: "ğŸ”‘"},
            {w: "Kiwi", s: "A green kiwi.", i: "ğŸ¥"}, {w: "Kite", s: "Fly a kite.", i: "ğŸª"},
            {w: "King", s: "The king wears a crown.", i: "ğŸ‘‘"}, {w: "Koala", s: "A sleeping koala.", i: "ğŸ¨"},
            {w: "Keyboard", s: "Type on the keyboard.", i: "âŒ¨ï¸"}, {w: "Kitten", s: "A baby cat.", i: "ğŸˆ"}
        ],
        'L': [
            {w: "Lion", s: "The lion roars.", i: "ğŸ¦"}, {w: "Lemon", s: "A sour lemon.", i: "ğŸ‹"},
            {w: "Leaf", s: "A green leaf.", i: "ğŸƒ"}, {w: "Leg", s: "This is my leg.", i: "ğŸ¦µ"},
            {w: "Lamp", s: "Turn on the lamp.", i: "ğŸ’¡"}, {w: "Lock", s: "Lock the door.", i: "ğŸ”’"},
            {w: "Ladybug", s: "A red ladybug.", i: "ğŸ"}, {w: "Lollipop", s: "A sweet lollipop.", i: "ğŸ­"},
            {w: "Letter", s: "Write a letter.", i: "âœ‰ï¸"}, {w: "Llama", s: "A fluffy llama.", i: "ğŸ¦™"}
        ],
        'M': [
            {w: "Monkey", s: "A funny monkey.", i: "ğŸµ"}, {w: "Moon", s: "The moon is bright.", i: "ğŸŒ™"},
            {w: "Mouse", s: "A little mouse.", i: "ğŸ­"}, {w: "Milk", s: "Drink your milk.", i: "ğŸ¥›"},
            {w: "Map", s: "Look at the map.", i: "ğŸ—ºï¸"}, {w: "Mountain", s: "A high mountain.", i: "â›°ï¸"},
            {w: "Mirror", s: "Look in the mirror.", i: "ğŸª"}, {w: "Mushroom", s: "A red mushroom.", i: "ğŸ„"},
            {w: "Mango", s: "A sweet mango.", i: "ğŸ¥­"}, {w: "Motorcycle", s: "Ride a motorcycle.", i: "ğŸï¸"}
        ],
        'N': [
            {w: "Nose", s: "Touch your nose.", i: "ğŸ‘ƒ"}, {w: "Nut", s: "A hard nut.", i: "ğŸ¥œ"},
            {w: "Night", s: "Good night.", i: "ğŸŒƒ"},
            {w: "Nurse", s: "A kind nurse.", i: "ğŸ‘©â€âš•ï¸"},
            {w: "Necktie", s: "Wear a necktie.", i: "ğŸ‘”"}, {w: "Numbers", s: "Count the numbers.", i: "ğŸ”¢"}
        ],
        'O': [
            {w: "Owl", s: "The owl sleeps.", i: "ğŸ¦‰"}, {w: "Orange", s: "A sweet orange.", i: "ğŸŠ"},
            {w: "Octopus", s: "An octopus in the sea.", i: "ğŸ™"}, {w: "Ocean", s: "The blue ocean.", i: "ğŸŒŠ"},
            {w: "Onion", s: "A round onion.", i: "ğŸ§…"}, {w: "Ox", s: "A strong ox.", i: "ğŸ‚"},
            {w: "Oyster", s: "An oyster in the shell.", i: "ğŸ¦ª"}, {w: "Office", s: "Work in the office.", i: "ğŸ¢"}
        ],
        'P': [
            {w: "Pig", s: "A pink pig.", i: "ğŸ·"}, {w: "Penguin", s: "A cute penguin.", i: "ğŸ§"},
            {w: "Pizza", s: "I like pizza.", i: "ğŸ•"}, {w: "Pencil", s: "Write with a pencil.", i: "âœï¸"},
            {w: "Peach", s: "A soft peach.", i: "ğŸ‘"}, {w: "Panda", s: "A black and white panda.", i: "ğŸ¼"},
            {w: "Plane", s: "The plane is flying.", i: "âœˆï¸"}, {w: "Police", s: "A brave police.", i: "ğŸ‘®"},
            {w: "Parrot", s: "A colorful parrot.", i: "ğŸ¦œ"}, {w: "Pineapple", s: "A yellow pineapple.", i: "ğŸ"}
        ],
        'Q': [
            {w: "Queen", s: "A beautiful queen.", i: "ğŸ‘¸"}, {w: "Question", s: "I have a question.", i: "â“"},
            {w: "Quiet", s: "Please be quiet.", i: "ğŸ¤«"}, {w: "Quilt", s: "A warm quilt.", i: "ğŸ›Œ"},
            {w: "Quail", s: "A little quail.", i: "ğŸ¦"}
        ],
        'R': [
            {w: "Rabbit", s: "The rabbit hops.", i: "ğŸ°"}, {w: "Rain", s: "It is raining.", i: "ğŸŒ§ï¸"},
            {w: "Rose", s: "A red rose.", i: "ğŸŒ¹"}, {w: "Ring", s: "A gold ring.", i: "ğŸ’"},
            {w: "Robot", s: "A smart robot.", i: "ğŸ¤–"}, {w: "Rocket", s: "A fast rocket.", i: "ğŸš€"},
            {w: "Rainbow", s: "A colorful rainbow.", i: "ğŸŒˆ"}, {w: "Radio", s: "Listen to the radio.", i: "ğŸ“»"},
            {w: "Rhino", s: "A strong rhino.", i: "ğŸ¦"}, {w: "Rice", s: "Eat some rice.", i: "ğŸš"}
        ],
        'S': [
            {w: "Sun", s: "The sun is hot.", i: "â˜€ï¸"}, {w: "Star", s: "A shining star.", i: "â­"},
            {w: "Snake", s: "A long snake.", i: "ğŸ"}, {w: "Snow", s: "White snow.", i: "â„ï¸"},
            {w: "Spider", s: "A busy spider.", i: "ğŸ•·ï¸"}, {w: "Shoe", s: "Put on your shoe.", i: "ğŸ‘"},
            {w: "Spoon", s: "Eat with a spoon.", i: "ğŸ¥„"}, {w: "Sheep", s: "A fluffy sheep.", i: "ğŸ‘"},
            {w: "Strawberry", s: "A red strawberry.", i: "ğŸ“"}, {w: "Scissors", s: "Cut with scissors.", i: "âœ‚ï¸"}
        ],
        'T': [
            {w: "Tiger", s: "A strong tiger.", i: "ğŸ¯"}, {w: "Tree", s: "A tall tree.", i: "ğŸŒ³"},
            {w: "Train", s: "Choo choo train!", i: "ğŸš‚"}, {w: "Turtle", s: "A slow turtle.", i: "ğŸ¢"},
            {w: "Tomato", s: "A red tomato.", i: "ğŸ…"}, {w: "Tooth", s: "Brush your teeth.", i: "ğŸ¦·"},
            {w: "Truck", s: "A big truck.", i: "ğŸšš"}, {w: "Teacher", s: "A good teacher.", i: "ğŸ‘©â€ğŸ«"},
            {w: "Television", s: "Watch television.", i: "ğŸ“º"}, {w: "Tent", s: "Sleep in a tent.", i: "â›º"}
        ],
        'U': [
            {w: "Umbrella", s: "Take an umbrella.", i: "â˜‚ï¸"}, {w: "Unicorn", s: "A magic unicorn.", i: "ğŸ¦„"},
            {w: "UFO", s: "A flying UFO.", i: "ğŸ›¸"}, {w: "Unlock", s: "Unlock the door.", i: "ğŸ”“"},
            {w: "Uniform", s: "Wear a uniform.", i: "ğŸ¥‹"}, {w: "Up", s: "Look up high.", i: "â¬†ï¸"}
        ],
        'V': [
            {w: "Van", s: "A big van.", i: "ğŸš"}, {w: "Violin", s: "Play the violin.", i: "ğŸ»"},
            {w: "Volcano", s: "A hot volcano.", i: "ğŸŒ‹"}, {w: "Vegetable", s: "Eat your vegetables.", i: "ğŸ¥¦"},
            {w: "Vampire", s: "A scary vampire.", i: "ğŸ§›"}, {w: "Vest", s: "Wear a yellow vest.", i: "ğŸ¦º"}
        ],
        'W': [
            {w: "Watermelon", s: "A big watermelon.", i: "ğŸ‰"}, {w: "Whale", s: "A huge whale.", i: "ğŸ³"},
            {w: "Water", s: "Drink some water.", i: "ğŸ’§"}, {w: "Window", s: "Look out the window.", i: "âŠ"},
            {w: "Wolf", s: "The wolf is howling.", i: "ğŸº"}, {w: "Watch", s: "Look at your watch.", i: "âŒš"},
            {w: "Worm", s: "A wiggly worm.", i: "ğŸ›"}, {w: "Wood", s: "Hard wood.", i: "ğŸªµ"}
        ],
        'X': [
            {w: "Xylophone", s: "Play the xylophone.", i: "ğŸ¹"}, {w: "X-ray", s: "An X-ray picture.", i: "â˜¢"},
        ],
        'Y': [
            {w: "Yoyo", s: "Play with a yoyo.", i: "ğŸª€"}, {w: "Yellow", s: "The sun is yellow.", i: "ğŸŒ"},
            {w: "Yarn", s: "Cats play with yarn.", i: "ğŸ§¶"}, {w: "Yacht", s: "A big yacht.", i: "ğŸ›¥ï¸"},
            {w: "Yak", s: "A hairy yak.", i: "ğŸƒ"}, {w: "Yogurt", s: "Eat some yogurt.", i: "ğŸ¨"}
        ],
        'Z': [
            {w: "Zebra", s: "A striped zebra.", i: "ğŸ¦“"}, {w: "Zoo", s: "Let's go to the zoo.", i: "ğŸ¦"},
            {w: "Zero", s: "The number zero.", i: "0ï¸âƒ£"}, {w: "Zipper", s: "Zip your jacket.", i: "ğŸ¤"},
            {w: "Zombie", s: "A green zombie.", i: "ğŸ§Ÿ"}, {w: "Zucchini", s: "A green zucchini.", i: "ğŸ¥’"}
        ]
    };
    let currentMode = 'alpha';

    // 1. å‹•æ…‹ç”Ÿæˆ A-Z éµç›¤
    const alphabetGrid = document.getElementById('alphabet-grid');
    for (let i = 65; i <= 90; i++) {
        const u = String.fromCharCode(i);
        const l = String.fromCharCode(i + 32);
        const btn = document.createElement('button');
        btn.className = 'alpha-btn';
        btn.innerText = u + l;
        btn.onclick = () => handleLetterClick(u, l);
        alphabetGrid.appendChild(btn);
    }

    // 2. è™•ç†æ¨¡å¼åˆ‡æ›
   function switchMode(mode) {
        currentMode = mode;
        document.getElementById('btn-alpha').classList.remove('active');
        document.getElementById('btn-vocab').classList.remove('active');
        document.getElementById('btn-exam').classList.remove('active');
        document.getElementById(`btn-${mode}`).classList.add('active');

        if (mode === 'exam') {
            document.getElementById('flashcard-area').style.display = 'none';
            document.getElementById('alphabet-grid').style.display = 'none';
            document.getElementById('exam-section').style.display = 'block';
            
            // é‡ç½®ç‚ºã€Œæº–å‚™ç•«é¢ã€
            document.getElementById('exam-intro').style.display = 'block';
            document.getElementById('exam-play').style.display = 'none';
            document.getElementById('exam-break').style.display = 'none';
            
            // ğŸŒŸ é€™è£¡éš±è—ï¼šå› ç‚ºåœ¨æº–å‚™ç•«é¢é‚„æ²’æœ‰é¡Œç›®ï¼Œå…ˆæŠŠå®ƒè—èµ·ä¾†
            document.getElementById('replay-btn').style.display = 'none';
            
        } else {
            document.getElementById('exam-section').style.display = 'none';
            document.getElementById('flashcard-area').style.display = 'flex';
            document.getElementById('alphabet-grid').style.display = 'flex';
            
            // ğŸŒŸ é€™è£¡éš±è—ï¼šåˆ‡æ›å›å­—æ¯æˆ–ç›²ç›’æ¨¡å¼æ™‚ï¼ŒæŠŠé‡è½æŒ‰éˆ•è—èµ·ä¾†
            document.getElementById('replay-btn').style.display = 'none';
            
            if (mode === 'alpha') {
                updateFlashcard("ğŸ”¤", "", "");
            } else {
                updateFlashcard("ğŸ", "ç›²ç›’æ¨¡å¼", "æŠ½æŠ½çœ‹æœƒå‡ºç¾ä»€éº¼å–®å­—å‘¢ï¼Ÿ");
            }
        }
    }

    // 3. è™•ç†å­—æ¯é»æ“Šé‚è¼¯
    function handleLetterClick(upper, lower) {
        if (currentMode === 'alpha') {
            updateFlashcard(upper + lower, "", "");
            speak(upper);
        } else if (currentMode === 'vocab') {
            const wordsArray = dictionary[upper];
            if (!wordsArray || wordsArray.length === 0) return;
            const data = wordsArray[Math.floor(Math.random() * wordsArray.length)];
            updateFlashcard(data.i, data.w, data.s);
            speak(data.w + ". " + data.s);
        }
    }

    function updateFlashcard(emoji, word, sentence) {
        const emojiEl = document.getElementById('fc-emoji');
        emojiEl.style.animation = 'none';
        setTimeout(() => emojiEl.style.animation = 'bounceIn 0.5s', 10);
        
        emojiEl.innerText = emoji;
        document.getElementById('fc-word').innerText = word;
        document.getElementById('fc-sentence').innerText = sentence;
    }

    // --- è€ƒè©¦æ¨¡å¼é‚è¼¯ ---
    let currentQuizWord = null;
    let allWords = []; 
    let scoreCount = 0; // ğŸŒŸ ç´€éŒ„é€£å°å¹¾é¡Œ
    Object.keys(dictionary).forEach(key => dictionary[key].forEach(item => allWords.push(item)));

   function startExamGame() {
        scoreCount = 0; // é–‹å§‹æ¸¬é©—æ™‚æ­¸é›¶
        document.getElementById('score-text').innerText = scoreCount;
        document.getElementById('exam-intro').style.display = 'none';
        document.getElementById('exam-play').style.display = 'block';
        
        // ğŸŒŸ æ¸¬é©—æ­£å¼é–‹å§‹ï¼ŒæŠŠé‡è½æŒ‰éˆ•è®Šå‡ºä¾†ï¼
        document.getElementById('replay-btn').style.display = 'inline-block';
        
        nextQuestion();
    }

    function nextQuestion() {
        let shuffled = [...allWords].sort(() => 0.5 - Math.random());
        currentQuizWord = shuffled[0];
        let options = [shuffled[0], shuffled[1], shuffled[2]].sort(() => 0.5 - Math.random());

        document.getElementById('exam-emoji').innerText = currentQuizWord.i;
speak("Where is it? " + currentQuizWord.w + ".");

        const optionsDiv = document.getElementById('exam-options');
        optionsDiv.innerHTML = "";
        options.forEach(opt => {
            let btn = document.createElement('button');
            btn.className = 'exam-btn';
            btn.innerText = opt.w; 
            btn.onclick = () => checkAnswer(opt.w);
            optionsDiv.appendChild(btn);
        });
    }

    function checkAnswer(selectedWord) {
        if (selectedWord === currentQuizWord.w) {
            document.getElementById('exam-emoji').innerText = "ğŸ‰";
            speak("You got it!");
            scoreCount++;
            document.getElementById('score-text').innerText = scoreCount;

            setTimeout(() => {
                // ğŸŒŸ å¦‚æœç­”å°äº† 10 é¡Œ (æˆ–è€…æ˜¯ 10 çš„å€æ•¸)ï¼Œå°±è·³å‡ºä¼‘æ¯ç•«é¢
                if (scoreCount > 0 && scoreCount % 10 === 0) {
                    showBreakScreen();
                } else {
                    nextQuestion();
                }
            }, 1500); // ç­”å°å¾Œç­‰ 1.5 ç§’æ›é¡Œ
        } else {
            speak("Try again.");
        }
    }

    // ğŸŒŸ é¡¯ç¤ºä¼‘æ¯ç•«é¢
    function showBreakScreen() {
        document.getElementById('exam-play').style.display = 'none';
        document.getElementById('exam-break').style.display = 'block';
        speak("Awesome! Do you want to take a break?"); // èªéŸ³é¼“å‹µ
    }

    // ğŸŒŸ ç¹¼çºŒæŒ‘æˆ°
    function continueExam() {
        document.getElementById('exam-break').style.display = 'none';
        document.getElementById('exam-play').style.display = 'block';
        nextQuestion();
    }

  function speak(t) {
        // 1. å¼·åˆ¶åœæ­¢ä¹‹å‰çš„è²éŸ³
        window.speechSynthesis.cancel();

        // 2. å»ºç«‹ç™¼éŸ³ç‰©ä»¶ï¼ˆå…ˆä¸å‚³å…¥æ–‡å­—ï¼‰
        const m = new SpeechSynthesisUtterance();
        
        // ğŸŒŸ æ ¸å¿ƒä¿®æ­£ï¼šå…ˆè™•ç†æ–‡å­—ï¼Œè½‰æˆå°å¯«
        // åŠ ä¸Šä¸€å€‹ç©ºæ ¼æˆ–å¥è™Ÿï¼Œæœ‰åŠ©æ–¼ iOS åˆ¤æ–·é€™æ˜¯ä¸€å€‹ã€Œå–®å­—ã€è€Œéã€Œæ‹¼å¯«å­—æ¯ã€
        const processedText = t.toLowerCase() + "."; 

        // 3. è¨­å®šåƒæ•¸
        m.text = processedText; // é€™è£¡æ‰è³¦äºˆæ–‡å­—
        m.lang = 'en-US'; 
        m.rate = 0.80;
        m.pitch = 1.0;

        // 4. é–‹å§‹ç™¼éŸ³
        window.speechSynthesis.speak(m);
    }
// ğŸ”Š é‡è½åŠŸèƒ½ï¼šå†å”¸ä¸€æ¬¡ç›®å‰çš„å–®å­—
    function replayAudio() {
        // ç¢ºä¿ç›®å‰æœ‰é¡Œç›®æ‰ç™¼è²
        if (currentQuizWord) {
            // ä½¿ç”¨å¥è™Ÿçµå°¾ï¼Œç¢ºä¿ç™¼éŸ³æ¨™æº–ä¸ä¸Šæš
            speak("Where is it? " + currentQuizWord.w + ".");
        }
    }
</script>
</body>
</html>