<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>æ³¨éŸ³ç¬¦è™Ÿå¤§å†’éšª</title>
    <style>
        body { font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif; background-color: #E1F5FE; text-align: center; padding: 20px; }
        .container { max-width: 800px; margin: auto; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .main-title { color: #0288D1; font-size: 2.8rem; margin-bottom: 10px; }
        .sub-title { color: #4FC3F7; font-size: 1.2rem; margin-bottom: 25px; }
        
        /* é¡¯ç¤ºå€ï¼šä¿®æ­£åˆå§‹æ–‡å­—éå¤§å•é¡Œ */
        #display-area { 
            font-size: 3rem; /* åˆå§‹æ–‡å­—è¼ƒå° */
            margin: 30px auto; height: 180px; width: 80%;
            display: flex; align-items: center; justify-content: center; 
            color: #0288D1; border: 5px dashed #B3E5FC; border-radius: 20px;
            transition: font-size 0.2s; /* é»æ“Šæ™‚æ”¾å¤§çš„å‹•ç•« */
        }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 15px; padding: 20px; }
        .bo-btn { 
            aspect-ratio: 1; font-size: 2.5rem; cursor: pointer; border: none; 
            border-radius: 15px; background: #B3E5FC; color: #01579B;
            box-shadow: 0 5px #81D4FA; transition: 0.2s;
        }
        .bo-btn:active { transform: translateY(4px); box-shadow: 0 2px #81D4FA; }
        .bo-btn.vowel { background: #FFCC80; color: #E65100; box-shadow: 0 5px #FFB74D; }
/* æ‹¼éŸ³å¤§å¸«å°ˆå±¬ï¼šç´«è‰²å¤§å›é¦–é éˆ• */
    .home-btn-large {
        position: fixed;
        top: 20px;
        left: 20px;
        width: 85px;
        height: 85px;
        background-color: #9C27B0; /* ç´«è‰² */
        color: white;
        text-decoration: none;
        border-radius: 25px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-shadow: 0 8px #7B1FA2;
        transition: 0.2s;
        z-index: 9999;
        font-weight: bold;
    }

    .home-btn-large span {
        font-size: 2.2rem;
        margin-bottom: -5px;
    }

    .home-text {
        font-size: 1rem;
    }

    .home-btn-large:hover {
        transform: scale(1.1);
        filter: brightness(1.1);
    }

    .home-btn-large:active {
        transform: translateY(4px);
        box-shadow: 0 4px #7B1FA2;
    }

    /* ç¢ºä¿æ‰‹æ©Ÿç‰ˆæ¨™é¡Œä¸æœƒè¢«æŒ‰éˆ•å£“åˆ° */
    @media (max-width: 600px) {
        .container { margin-top: 100px; }
    }
    </style>
</head>
<body>
<a href="index.html" class="home-btn-large">
    <span>ğŸ </span>
    <div class="home-text">é¦–é </div>
</a>
<div class="container">
    <h1 class="main-title">ã„…ã„†ã„‡ æ³¨éŸ³å¤§å†’éšª</h1>
    <p class="sub-title">é»é»çœ‹ï¼Œè·Ÿè‘—è²éŸ³ä¸€èµ·å”¸å”¸çœ‹å–”ï¼</p>
    
    <div id="display-area">ğŸŒŸ é¸ä¸€å€‹æ³¨éŸ³ ğŸŒŸ</div>

    <div class="grid" id="bopomofo-grid"></div>
</div>

åˆ¥æ“”å¿ƒï¼æˆ‘æ‡‚é‚£ç¨®æ€•æ”¹å£çš„å¿ƒæƒ…ã€‚æ—¢ç„¶å¦³ç¾åœ¨å·²ç¶“æŠŠã€Œå¯¦é©—å®¤ä»£ç¢¼ã€æ¥åœ¨åŸæœ¬çš„ speak å‡½æ•¸å¾Œé¢äº†ï¼Œæˆ‘å€‘å°±ç”¨æœ€ç©©éšªçš„æ–¹å¼ï¼Œç›´æ¥æŠŠã€Œæ”¹è‰¯ç‰ˆæ¸¬è©¦å™¨ã€åŠ é€²å»ï¼Œç¢ºä¿å®ƒèƒ½è§£æ±º iPad æŠ“ä¸åˆ°è²éŸ³çš„å•é¡Œã€‚

é€™æ®µç¨‹å¼ç¢¼æˆ‘å·²ç¶“å¹«å¦³æŠŠåŸæœ¬çš„æ³¨éŸ³é‚è¼¯è·ŸåŠ å¼·ç‰ˆæ¸¬è©¦å™¨æ‰åœ¨ä¸€èµ·äº†ã€‚

âœ… è«‹ç›´æ¥ã€Œå…¨é¸ã€ä¸‹æ–¹ä»£ç¢¼ï¼Œè¦†è“‹æ‰å¦³ç›®å‰çš„ <script>...</script>ï¼š
JavaScript
<script>
    const bopomofo = [
        'ã„…','ã„†','ã„‡','ã„ˆ','ã„‰','ã„Š','ã„‹','ã„Œ','ã„','ã„','ã„',
        'ã„','ã„‘','ã„’','ã„“','ã„”','ã„•','ã„–','ã„—','ã„˜','ã„™',
        'ã„§','ã„¨','ã„©','ã„š','ã„›','ã„œ','ã„','ã„','ã„Ÿ','ã„ ','ã„¡','ã„¢','ã„£','ã„¤','ã„¥','ã„¦'
    ];

    const grid = document.getElementById('bopomofo-grid');
    const display = document.getElementById('display-area');

    // 1. ç”¢ç”ŸåŸæœ¬çš„æ³¨éŸ³æŒ‰éˆ•
    bopomofo.forEach((char, index) => {
        const btn = document.createElement('button');
        btn.innerText = char;
        btn.className = 'bo-btn';
        if (index >= 21) btn.classList.add('vowel');

        btn.onclick = () => {
            display.innerText = char;
            display.style.fontSize = "10rem"; 
            speak(char);
        };
        grid.appendChild(btn);
    });

    // 2. åŸæœ¬çš„ç™¼éŸ³å‡½æ•¸
    function speak(text) {
        window.speechSynthesis.cancel();
        const msg = new SpeechSynthesisUtterance();
        msg.text = text;
        msg.lang = 'zh-TW';
        msg.rate = 0.8; 
        msg.pitch = 1.0; 
        window.speechSynthesis.speak(msg);
    }

    // 3. ğŸŒŸ è²éŸ³æ¸¬è©¦å¯¦é©—å®¤ (åŠ å¼·ç‰ˆï¼šè§£æ±º iPad æ²’è²éŸ³å•é¡Œ)
    function createVoiceTester() {
        // å…ˆç§»é™¤èˆŠçš„æ¸¬è©¦å€ï¼Œé¿å…é‡è¤‡å‡ºç¾
        const oldDiv = document.getElementById('lab-div');
        if (oldDiv) oldDiv.remove();

        const voices = window.speechSynthesis.getVoices();
        // åªæŠ“å°ç£èˆ‡é¦™æ¸¯çš„ä¸­æ–‡äººè²
        const zhVoices = voices.filter(v => v.lang.includes("zh-TW") || v.lang.includes("zh-HK"));
        
        const testDiv = document.createElement('div');
        testDiv.id = 'lab-div';
        testDiv.style.marginTop = "50px";
        testDiv.style.padding = "20px";
        testDiv.style.borderTop = "3px dashed #0288D1";
        testDiv.style.backgroundColor = "#F1F8E9";
        testDiv.style.borderRadius = "20px";
        
        testDiv.innerHTML = "<h3>ğŸ¤ è²éŸ³å¯¦é©—å®¤ (V7)</h3><p>é»é»çœ‹å“ªå€‹è€å¸«å”¸ã€Œã„…ã€æœ€å¥½è½ï¼š</p>";
        
        if (zhVoices.length === 0) {
            testDiv.innerHTML += "<p style='color:red;'>âš ï¸ åµæ¸¬ä¸åˆ°è€å¸«ï¼Œè«‹é»æ“Šè¢å¹•ä»»æ„è™•å†è©¦è©¦ï¼Œæˆ–æª¢æŸ¥ iPad æ˜¯å¦ä¸‹è¼‰äº†èªéŸ³åŒ…ã€‚</p>";
        }

        zhVoices.forEach(voice => {
            const btn = document.createElement('button');
            btn.style.margin = "8px";
            btn.style.padding = "12px";
            btn.style.borderRadius = "10px";
            btn.style.border = "1px solid #ccc";
            btn.style.cursor = "pointer";
            btn.innerText = `è©¦è½ï¼š${voice.name}`;
            
            btn.onclick = () => {
                window.speechSynthesis.cancel();
                const m = new SpeechSynthesisUtterance("ã„…");
                m.voice = voice;
                m.lang = 'zh-TW';
                m.rate = 0.9;
                window.speechSynthesis.speak(m);
                // é»æ“Šå¾ŒæŠŠåå­—é¡¯è‰²ï¼Œæ–¹ä¾¿å¦³è¨˜ä½
                btn.style.backgroundColor = "#C8E6C9";
            };
            testDiv.appendChild(btn);
        });
        document.body.appendChild(testDiv);
    }

    // ğŸŒŸ é—œéµï¼šç•¶è²éŸ³æ¸…å–®æ”¹è®Šæ™‚ç«‹åˆ»æ›´æ–°ï¼Œä¸¦åœ¨è¼‰å…¥å¾Œå˜—è©¦åŸ·è¡Œ
    window.speechSynthesis.onvoiceschanged = createVoiceTester;
    setTimeout(createVoiceTester, 1000);
</script>

</body>
</html>